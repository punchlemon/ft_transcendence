# ft_transcendence - Version 18.0

**Summary:**
This project involves undertaking tasks you have never done before. Remember the beginning of your journey in computer science. Look at you now; it's time to shine!

---

## Contents

I. Preamble
II. Objectives
III. AI Instructions
IV. Mandatory part
    IV.1 Overview
    IV.2 Minimal technical requirement
    IV.3 Game
    IV.4 Security concerns
V. Modules
    V.1 Overview
    V.2 Web
    V.3 User Management
    V.4 Gameplay and user experience
    V.5 AI-Algo
    V.6 Cybersecurity
    V.7 Devops
    V.8 Graphics
    V.9 Accessibility
    V.10 Server-Side Pong
VI. Bonus part
VII. Submission and peer-evaluation

---

## Chapter I: Preamble

PONG.

---

## Chapter II: Objectives

This project is a surprise.

As you are reaching the end of your Common Core, you have developed strong adaptation and problem-solving skills. This project will confront you with maybe-unknown technologies, intentionally. Once again, you will have to adapt, discover, explore, experiment to create the expected software.

The project includes a mandatory part and a series of modules on various topics, as detailed below in this subject. You will be able to choose the modules you want among a large list, but each module and mandatory element contains technical constraints you cannot bypass. So you can select the topics you like, but not technologies you like. This is a deliberate pedagogical choice.

This project is not intended to be a portfolio for an incoming internship or other professional experience. Its purpose is to reveal your ability to become acquainted with and complete a complex task using an unfamiliar technology. This situation will inevitably be faced during your career, and we aim to develop your self-confidence in front of such situations.

Especially on this big and long project, we encourage you to carefully read the entire subject, consider several possible strategies, think about your design, before starting coding anything! Some modules may depend on others, some modules may conflict with others. Ft_transcendence will bring many doubts and requires a lot of difficult decisions! Act wisely :-)

Also, this project is definitely a long run, and a wrong path will lead you to a huge loss of time. Your project management and team management choices will strongly impact your timeline and results. Many approaches and tools exist to support you on these topics.

Good luck, and have fun playing Pong!

---

## Chapter III: AI Instructions

**Context**
During your learning journey, AI can assist with many different tasks. Take the time to explore the various capabilities of AI tools and how they can support your work. However, always approach them with caution and critically assess the results. Whether it's code, documentation, ideas, or technical explanations, you can never be completely sure that your question was well-formed or that the generated content is accurate. Your peers are a valuable resource to help you avoid mistakes and blind spots.

**Main message**
* Use AI to reduce repetitive or tedious tasks.
* Develop prompting skills — both coding and non-coding — that will benefit your future career.
* Learn how AI systems work to better anticipate and avoid common risks, biases, and ethical issues.
* Continue building both technical and power skills by working with your peers.
* Only use AI-generated content that you fully understand and can take responsibility for.

**Learner rules:**
* You should take the time to explore AI tools and understand how they work, so you can use them ethically and reduce potential biases.
* You should reflect on your problem before prompting — this helps you write clearer, more detailed, and more relevant prompts using accurate vocabulary.
* You should develop the habit of systematically checking, reviewing, questioning, and testing anything generated by AI.
* You should always seek peer review — don't rely solely on your own validation.

**Phase outcomes:**
* Develop both general-purpose and domain-specific prompting skills.
* Boost your productivity with effective use of AI tools.
* Continue strengthening computational thinking, problem-solving, adaptability, and collaboration.

**Comments and examples:**
* You'll regularly encounter situations — exams, evaluations, and more — where you must demonstrate real understanding. Be prepared, keep building both your technical and interpersonal skills.
* Explaining your reasoning and debating with peers often reveals gaps in your understanding. Make peer learning a priority.
* AI tools often lack your specific context and tend to provide generic responses. Your peers, who share your environment, can offer more relevant and accurate insights.
* Where AI tends to generate the most likely answer, your peers can provide alternative perspectives and valuable nuance. Rely on them as a quality checkpoint.

**Good practice:**
I ask AI: "How do I test a sorting function?" It gives me a few ideas. I try them out and review the results with a peer. We refine the approach together.

**Bad practice:**
I ask AI to write a whole function, copy-paste it into my project. During peer-evaluation, I can't explain what it does or why. I lose credibility — and I fail my project.

**Good practice:**
I use AI to help design a parser. Then I walk through the logic with a peer. We catch two bugs and rewrite it together — better, cleaner, and fully understood.

**Bad practice:**
I let Copilot generate my code for a key part of my project. It compiles, but I can't explain how it handles pipes. During the evaluation, I fail to justify and I fail my project.

---

## Chapter IV: Mandatory part

This project is about creating a website for the mighty Pong contest!

### IV.1 Overview

Your software will offer a nice user interface and real-time multiplayer capabilities allowing to play Pong with all your friends!

* At first, your project needs to adhere to the mandatory guidelines as a minimum requirement (see next section), which will represent only a small portion to the final grade.
* The second part of this subject will offer additional modules that can replace or complement the mandatory part.

In this subject, you will face words that are **highlighted in green**. They represent technology choices that will evolve over time. Be sure to pay close attention to the version of the subject.

> **Important:**
> * The use of libraries or tools that provide an immediate and complete solution for an entire feature or a module is prohibited.
> * Any direct instruction regarding the use (can, must, can't) of a third-party library or tool must be followed.
> * The use of a small library or tool that solves a simple, unique task representing a subcomponent of a larger feature or module, is allowed.
> * During the evaluation, the team will justify any use of library or tool that is not explicitly approved by the project guidelines and is not in contradiction with the project's constraints.
> * During the evaluation, the evaluator will take responsibility for determining whether the use of a specific library or tool is legitimate (and allowed) or if it essentially solves an entire feature or module (and is therefore prohibited).

### IV.2 Minimal technical requirement

Your project must comply with the following rules:

*Some of these constraints may be overridden by the choice of specific modules.*

* **Backend:** You are free to develop the site, with or without a backend. If you choose to include a backend, it must be written in **pure PHP without frameworks**. However, this requirement can be overridden by the **Framework module**. If your backend or framework uses a database, you must follow the constraints of the **Database module**.
* **Frontend:** The frontend should be developed using **Typescript** as base code. However, this requirement can be modified through the **FrontEnd module**.
* **SPA:** Your website must be a single-page application. The user should be able to use the Back and Forward buttons of the browser.
* **Browser Compatibility:** Your website must be compatible with the latest stable up-to-date version of **Mozilla Firefox**. Of course, it can be compatible with other web browsers!
* **Errors:** The user should encounter no unhandled errors or warnings when browsing the website.
* **Docker:** You must use Docker to run your website. Everything must be launched with a single command line to run an autonomous container.

> **Note on Containers:**
> Several container technologies exist: Docker, containerd, podman, etc. On the computers of your campus, you may access the container software in rootless mode for security reasons. This could lead to the following extra constraints:
> * Your runtime needs to be located in `/goinfre` or `/sgoinfre`.
> * You are not able to use "bind-mount volumes" between the host and the container if non-root UIDs are used in the container.
> * Depending on the current requirements of the subject and the local configuration in clusters, you may need to adopt different strategies (e.g., container solution in VM, rebuild container after changes, craft image with root as unique UID).

### IV.3 Game

The main purpose of this website is to play Pong versus other players.

* Users must be able to participate in a live Pong game against another player directly on the website. Both players will use the same keyboard. The **Remote players module** can enhance this functionality with remote players.
* A player must be able to play against another, and a **tournament system** should also be available. This tournament will consist of multiple players who can take turns playing against each other. You have flexibility in how you implement the tournament, but it must clearly display who is playing against whom and the order of the play.
* A **registration system** is required: at the start of a tournament, each player must input their alias. The aliases will be reset when a new tournament begins. However, this requirement can be modified using the **Standard User Management module**. Note: This does not imply user account creation.
    * In the default (mandatory) version, users simply enter an alias manually.
* There must be a **matchmaking system**: the tournament system should organize the matchmaking of the participants, and announce the next match.
* All players must adhere to the same rules, including having identical paddle speed. This requirement also applies when using AI; the AI must exhibit the same speed as a regular player.
* The game must adhere to the default frontend constraints (as outlined above), or you may choose to use the **FrontEnd module**, or override it with the **Graphics module**. While the visual aesthetics can vary, the game must still capture the essence of the original Pong (1972).

> **Regarding the Tournament System:**
> * The tournament system must work with or without user registration.
> * Without the Standard User Management module: users manually input an alias.
> * With the module: aliases are linked to registered accounts, allowing persistent stats and friend lists. The module extends the tournament logic; it does not replace it.

### IV.4 Security concerns

In order to create a functional website, there are several security concerns you must address:

* Any password stored in your database, if applicable, must be hashed.
* Your website must be protected against SQL injections/XSS attacks.
* If you have a backend or any other features, it is mandatory to enable an HTTPS connection for all aspects (use wss instead of ws for example).
* You must implement validation mechanisms for forms and any user input, either on the base page if no backend is used, or on the server side if a backend is employed.
* Regardless of whether you choose to implement the JWT Security module with 2FA, it's essential to prioritize the security of your website. For instance, if you choose to create an API, ensure your routes are protected. Even if you decide not to use JWT tokens, securing the site remains critical.
* Please make sure you use a strong password hashing algorithm.
* **Credentials:** For obvious security reasons, any credentials, API keys, env variables etc., must be saved locally in a `.env` file and ignored by git. Publicly stored credentials will cause your project to fail.

---

## Chapter V: Modules

Now that you've accomplished 25% of the project, congratulations!
With a functional basic website in place, the next step is to choose modules for further improvement.

**To achieve 100% project completion, a minimum of 7 major modules is required.**
*(Note: 2 Minor Modules count as one Major Module)*

It's crucial to carefully review each module as it may require modifications to your baseline website. Therefore, we strongly recommend reading this entire subject thoroughly.

### V.1 Overview

* **Web**
    * [Major] Use a framework to build the backend.
    * [Minor] Use a framework or a toolkit to build the frontend.
    * [Minor] Use a database for the backend.
    * [Major] Store the score of a tournament in the Blockchain.
* **User Management**
    * [Major] Standard user management, authentication, users across tournaments.
    * [Major] Implementing a remote authentication.
* **Gameplay and user experience**
    * [Major] Remote players.
    * [Major] Multiplayer (more than 2 players in the same game).
    * [Major] Add another game with user history and matchmaking.
    * [Minor] Game customization options.
    * [Major] Live chat.
* **AI-Algo**
    * [Major] Introduce an AI opponent.
    * [Minor] User and game stats dashboards.
* **Cybersecurity**
    * [Major] Implement WAF/ModSecurity with a hardened configuration and HashiCorp Vault for secrets management.
    * [Minor] GDPR compliance options with user anonymization, local data management, and Account Deletion.
    * [Major] Implement Two-Factor Authentication (2FA) and JWT.
* **Devops**
    * [Major] Infrastructure setup for log management (ELK).
    * [Minor] Monitoring system (Prometheus/Grafana).
    * [Major] Designing the backend as microservices.
* **Graphics**
    * [Major] Use advanced 3D techniques (Babylon.js).
* **Accessibility**
    * [Minor] Support on all devices.
    * [Minor] Expanding browser compatibility.
    * [Minor] Supports multiple languages.
    * [Minor] Add accessibility features for visually impaired users.
    * [Minor] Server-Side Rendering (SSR) integration.
* **Server-Side Pong**
    * [Major] Replace basic Pong with server-side Pong and implement an API.
    * [Major] Enabling Pong gameplay via CLI against web users with API integration.

### V.2 Web

* **[Major] Use a framework to build the backend.**
    In this major module, you are required to use a specific web framework for backend development: **Fastify with Node.js**.
    *You can create the backend without using the constraints of this module by using the default backend language (Pure PHP). However, this module will only be valid if you follow its requirements.*

* **[Minor] Use a framework or toolkit to build the front-end.**
    Your frontend development must use **Tailwind CSS** in addition of **Typescript**, and nothing else.
    *You can create a front-end without using the constraints of this module by using the default front-end directives. However, this module will only be valid if you follow its requirements.*

* **[Minor] Use a database for the backend -and more.**
    The designated database for all DB instances in your project is **SQLite**. This choice ensure data consistency and compatibility across all project components and may be a prerequisite for other modules.

* **[Major] Store the score of a tournament in the Blockchain.**
    This Major module focuses on implementing a feature within the Pong website to securely store tournament scores on a blockchain.
    * **Blockchain:** Avalanche (Testing environment).
    * **Language:** Solidity.
    * **Goal:** Seamlessly integrate blockchain to ensure secure and immutable storage of tournament scores.

### V.3 User Management

* **[Major] Standard user management, authentication and users across tournaments.**
    * Users can securely subscribe to the website.
    * Registered users can securely log in.
    * Users can select a unique display name to participate in tournaments.
    * Users can update their information.
    * Users can upload an avatar, with a default option if none is provided.
    * Users can add others as friends and view their online status.
    * User profiles display stats (wins/losses) and Match History.

* **[Major] Implement remote authentication.**
    * Implement a secure external authentication system using **OAuth 2.0**.
    * You are free to choose any OAuth-compatible provider (e.g., Google, GitHub, 42).

### V.4 Gameplay and user experience

* **[Major] Remote players**
    It should be possible for two players to play remotely. Each player is located on a separated computer, accessing the same website. Consider network issues (lag, disconnection).

* **[Major] Multiple players**
    It should be possible to have more than two players (e.g., 4 players on a square board). This strongly recommends the "remote players" module.

* **[Major] Add another game with user history and matchmaking.**
    Introduce a new game, distinct from Pong. Features: User history tracking, Matchmaking system.

* **[Minor] Game customization options.**
    Offer customization (power-ups, attacks, different maps). Allow users to choose a default version.

* **[Major] Live Chat.**
    * Direct messages between users.
    * Block user feature.
    * Invite users to play Pong via chat.
    * Tournament notifications in chat.
    * Access user profiles via chat.

### V.5 AI-Algo

* **[Major] Introduce an AI opponent.**
    * Objective: Incorporate an AI player.
    * Constraint: **Use of A* algorithm is NOT permitted.**
    * The AI must simulate keyboard input and can only refresh its view once per second.
    * The AI must utilize power-ups if applicable.
    * The AI must be capable of winning occasionally.

* **[Minor] User and Game Stats Dashboards.**
    * Dashboards displaying statistics for individual users and game sessions.
    * Data visualization (charts, graphs).

### V.6 Cybersecurity

* **[Major] Implement WAF/ModSecurity and HashiCorp Vault.**
    * Configure WAF and ModSecurity with hardened configuration.
    * Integrate HashiCorp Vault for secrets management (API keys, credentials).

* **[Minor] GDPR compliance options.**
    * User anonymization.
    * Local data management (view, edit, delete).
    * Account deletion.

* **[Major] Implement Two-Factor Authentication (2FA) and JWT.**
    * 2FA (SMS, authenticator app, or email).
    * Use JSON Web Tokens (JWT) for secure authentication and authorization.

### V.7 Devops

* **[Major] Infrastructure Setup with ELK (Elasticsearch, Logstash, Kibana).**
    * Establish robust log management and analysis.

* **[Minor] Monitoring system.**
    * Set up Prometheus and Grafana for system monitoring and alerting.

* **[Major] Designing the Backend as Microservices.**
    * Divide backend into smaller, loosely-coupled microservices.
    * Define clear boundaries and interfaces.

### V.8 Graphics

* **[Major] Implementing Advanced 3D Techniques.**
    * Use **Babylon.js** to create a 3D Pong game.
    * Goal: Immersive gameplay and stunning visual effects.

### V.9 Accessibility

* **[Minor] Support on all devices.** (Responsive design, various input methods).
* **[Minor] Expanding Browser Compatibility.** (Add support for an additional browser).
* **[Minor] Multiple language support.** (Min 3 languages, language switcher).
* **[Minor] Add accessibility for Visually Impaired Users.** (Screen readers, alt text, high contrast).
* **[Minor] Server-Side Rendering (SSR) Integration.**

### V.10 Server-Side Pong

* **[Major] Replace Basic Pong with Server-Side Pong and Implement an API.**
    * Game logic runs on the server.
    * API exposes resources/endpoints.
    * Allows partial usage via CLI and web interface.

* **[Major] Enabling Pong Gameplay via CLI against Web Users with API Integration.**
    * CLI application replicating Pong gameplay.
    * Connects to web app via API.
    * Real-time synchronization between CLI and web users.

---

## Chapter VI: Bonus part

* Five points for each minor module.
* Ten points for each major module.
* The bonus part will only be assessed if the mandatory part is PERFECT.

---

## Chapter VII: Submission and peer-evaluation

Submit your assignment in your Git repository as usual.